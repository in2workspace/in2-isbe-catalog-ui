<div class="container mx-auto pt-2 mb-8">
  <div class="py-16">
    <h1 class="text-7xl font-semibold font-heading"> {{'CATALOGS._all_catalogs' | translate}} </h1>
  </div>
  <p class="mb-8 text-lg font-normal text-gray-500 lg:text-xl sm:px-16 xl:px-48 text-center"> {{'OFFERINGS._choose' |
    translate}}</p> <!-- HEADER SEARCH BAR -->
  <!--<form class="max-w-lg mx-auto mb-8"> <div class="flex"> <div class="relative w-full"> <input type="search" id="search" [formControl]="searchField" class="block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-black focus:border-black" placeholder="Filter through our catalogs" /> <button (click)="filterCatalogs()" type="submit" class="absolute top-0 end-0 inline-flex items-center p-2.5 text-sm font-medium h-full text-white bg-primary-100 rounded-e-lg border border-purple-700 hover:bg-primary-50 focus:ring-4 focus:outline-none focus:ring-primary-300"> <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"> <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/> </svg> <span class="ml-2">Search</span> </button> </div> </div> </form>-->
  @if (loading) { <div role="status" class="w-full h-full flex justify-center align-middle"> <svg aria-hidden="true"
      class="w-12 h-12 text-gray-200 animate-spin fill-purple-600" viewBox="0 0 100 101" fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <path
        d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
        fill="currentColor" />
      <path
        d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
        fill="currentFill" />
    </svg> <span class="sr-only">Loading...</span> </div> } @else { <div
    class="w-full p-4 md:grid md:grid-cols-2 gap-4 lg:grid-cols-4"> @for (cat of catalogs; track cat.id) { <div
      (click)="goToCatalogSearch(cat.id)" class="block cursor-pointer rounded-lg bg-cover mb-4 md:mb-0"
      style="background-image: url(assets/images/bg_1.png);">
      <div class="block w-full h-full p-6 bg-opacity-100 bg-white rounded-lg bg-cover">
        <h5 class="text-2xl font-bold tracking-tight line-clamp-4 text-primary-100 text-wrap break-all"> {{cat.name}}
        </h5>
        <markdown class="line-clamp-[8] text-wrap break-all text-gray-900"
          [data]="cat.description ? cat.description : 'CATALOGS._no_desc' | translate"></markdown>
        <!--<a (click)="showFullDesc(cat);$event.stopPropagation();" class="text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded-md text-secondary-50 bg-primary-100 mb-2"> <fa-icon [icon]="faEye" class="text-primary-50 mr-2"></fa-icon> {{'CATALOGS._view_details' | translate}} </a>-->
        <hr class="h-px my-1 bg-primary-100 border-0 ">
        <div class=""> @for(category of cat.category; track category.id) { <span
            class="inline-block bg-purple-300 text-primary-100 text-xs font-bold me-2 px-2.5 py-0.5 rounded-full w-fit text-wrap break-all">{{category.name}}</span>
          } @empty { <span
            class="inline-block bg-purple-300 text-primary-100 text-xs font-bold me-2 px-2.5 py-0.5 rounded-full w-fit text-wrap break-all">{{'CATALOGS._no_cat'
            | translate}}</span> } </div>
        <div class="flex sticky top-[100vh] justify-center align-items-bottom"> <button
            (click)="showFullDesc(cat);$event.stopPropagation();" type="button"
            class="flex mt-2 items-center align-items-bottom text-white bg-primary-100 hover:bg-primary-50 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-1">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M5 19H6.2615L16.498 8.7635L15.2365 7.502L5 17.7385V19ZM4.404 20.5C4.14783 20.5 3.93317 20.4133 3.76 20.24C3.58667 20.0668 3.5 19.8522 3.5 19.596V17.8635C3.5 17.6197 3.54683 17.3873 3.6405 17.1663C3.734 16.9453 3.86283 16.7527 4.027 16.5885L16.6905 3.93075C16.8417 3.79342 17.0086 3.68733 17.1913 3.6125C17.3741 3.5375 17.5658 3.5 17.7663 3.5C17.9668 3.5 18.1609 3.53558 18.3488 3.60675C18.5368 3.67792 18.7032 3.79108 18.848 3.94625L20.0693 5.18275C20.2244 5.32758 20.335 5.49425 20.401 5.68275C20.467 5.87125 20.5 6.05975 20.5 6.24825C20.5 6.44942 20.4657 6.64133 20.397 6.824C20.3283 7.00683 20.2191 7.17383 20.0693 7.325L7.4115 19.973C7.24733 20.1372 7.05475 20.266 6.83375 20.3595C6.61275 20.4532 6.38033 20.5 6.1365 20.5H4.404ZM15.8562 8.14375L15.2365 7.502L16.498 8.7635L15.8562 8.14375Z"
                fill="#666666" fill-opacity="0.6" />
            </svg>
            {{ 'CARD._details' | translate }} </button> </div>
      </div>
    </div> } </div> } @if (!loading_more) { @if (page_check) { <div class="flex pt-8 justify-center align-middle">
    <button (click)="next()"
      class="flex cursor-pointer items-center justify-center px-3 h-8 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700">
      {{ 'CREATE_PROD_SPEC._load_more' | translate }}<svg _ngcontent-ng-c1671805716="" width="19" height="19"
        viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path _ngcontent-ng-c1671805716=""
          d="M8.75 10.25V13.5C8.75 13.7125 8.82192 13.8906 8.96575 14.0343C9.10958 14.1781 9.28775 14.25 9.50025 14.25C9.71292 14.25 9.891 14.1781 10.0345 14.0343C10.1782 13.8906 10.25 13.7125 10.25 13.5V10.25H13.5C13.7125 10.25 13.8906 10.1781 14.0343 10.0343C14.1781 9.89042 14.25 9.71225 14.25 9.49975C14.25 9.28708 14.1781 9.109 14.0343 8.9655C13.8906 8.82183 13.7125 8.75 13.5 8.75H10.25V5.5C10.25 5.2875 10.1781 5.10942 10.0343 4.96575C9.89042 4.82192 9.71225 4.75 9.49975 4.75C9.28708 4.75 9.109 4.82192 8.9655 4.96575C8.82183 5.10942 8.75 5.2875 8.75 5.5V8.75H5.5C5.2875 8.75 5.10942 8.82192 4.96575 8.96575C4.82192 9.10958 4.75 9.28775 4.75 9.50025C4.75 9.71292 4.82192 9.891 4.96575 10.0345C5.10942 10.1782 5.2875 10.25 5.5 10.25H8.75ZM9.50175 19C8.18775 19 6.95267 18.7507 5.7965 18.252C4.64033 17.7533 3.63467 17.0766 2.7795 16.2218C1.92433 15.3669 1.24725 14.3617 0.74825 13.206C0.249417 12.0503 0 10.8156 0 9.50175C0 8.18775 0.249333 6.95267 0.748 5.7965C1.24667 4.64033 1.92342 3.63467 2.77825 2.7795C3.63308 1.92433 4.63833 1.24725 5.794 0.74825C6.94967 0.249417 8.18442 0 9.49825 0C10.8123 0 12.0473 0.249333 13.2035 0.748C14.3597 1.24667 15.3653 1.92342 16.2205 2.77825C17.0757 3.63308 17.7528 4.63833 18.2518 5.794C18.7506 6.94967 19 8.18442 19 9.49825C19 10.8123 18.7507 12.0473 18.252 13.2035C17.7533 14.3597 17.0766 15.3653 16.2218 16.2205C15.3669 17.0757 14.3617 17.7528 13.206 18.2518C12.0503 18.7506 10.8156 19 9.50175 19ZM9.5 17.5C11.7333 17.5 13.625 16.725 15.175 15.175C16.725 13.625 17.5 11.7333 17.5 9.5C17.5 7.26667 16.725 5.375 15.175 3.825C13.625 2.275 11.7333 1.5 9.5 1.5C7.26667 1.5 5.375 2.275 3.825 3.825C2.275 5.375 1.5 7.26667 1.5 9.5C1.5 11.7333 2.275 13.625 3.825 15.175C5.375 16.725 7.26667 17.5 9.5 17.5Z"
          fill="white"></path>
      </svg> </button>
  </div> } } @else { <div role="status" class="w-full h-full pt-8 flex justify-center align-middle"> <svg
      aria-hidden="true" class="w-12 h-12 text-gray-200 animate-spin fill-purple-600" viewBox="0 0 100 101" fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <path
        d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
        fill="currentColor" />
      <path
        d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
        fill="currentFill" />
    </svg> <span class="sr-only">Loading...</span> </div> }
</div> <!-- Main modal -->
@if (showDesc){
<div id="details-modal" [ngClass]="showDesc ? 'backdrop-blur-sm' : ''" tabindex="-1" aria-hidden="true"
  class="fixed inset-0 z-40 flex flex-col lg:flex-row justify-center overflow-y-auto overflow-x-hidden px-4 pt-[80px] lg:pt-0 lg:items-center">
  <div class="relative w-full max-w-4xl">
    <div class="relative bg-white rounded-lg bg-cover bg-right-bottom overflow-y-auto max-h-[calc(100vh-160px)]"
      (click)="$event.stopPropagation();"> <!-- HEADER -->
      <div class="w-full rounded-t-lg p-4">
        <h5 class="md:text-3xl lg:text-4xl font-semibold tracking-tight text-primary-100 "> {{ showingCat?.name }} </h5>
      </div>
      <hr class="h-px my-1 bg-primary-100 border-0 " /> <!-- DESCRIPTION -->
      <div class="p-4">
        <div class="max-h-[300px] overflow-y-auto mb-4 p-4 rounded border border-primary-100/10 bg-primary-100/5 ">
          <markdown class="text-wrap break-all"
            [data]="showingCat.description ? showingCat.description : ('CATALOGS._no_desc' | translate)"> </markdown>
        </div>
      </div>
      <hr class="h-px my-1 bg-primary-100 border-0 " /> <!-- CATEGORIES -->
      <div class="p-4 flex flex-wrap gap-2"> @for(category of showingCat.category; track category.id) { <span
          class="inline-block bg-purple-300 text-primary-100 text-xs font-bold px-2.5 py-0.5 rounded-full text-wrap break-all">
          {{ category.name }} </span> } @empty { <span
          class="inline-block bg-purple-300 text-primary-100 text-xs font-bold px-2.5 py-0.5 rounded-full text-wrap break-all">
          {{ 'CATALOGS._no_cat' | translate }} </span> } </div>
    </div>
  </div>
</div> }
